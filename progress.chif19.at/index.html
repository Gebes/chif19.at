<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CHIF19 Progress Tracker</title>
    <style>
        span,
        h1 {
            font-family: Arial, Helvetica, sans-serif;
            color: white;
            line-height: 0;

        }

        #category {
            padding-bottom: 32px;
        }
    </style>
</head>

<body style="background-color: black;" >

<div style="padding: 1%;">


    <div id="category">
        <h1 id="countdownTitle1"></h1>  
        <span id="countdown1"></span>
    </div>
    <div id="category">
        <h1 id="countdownTitle2"></h1>
        <span id="countdown2"></span>
    </div>
    <div id="category">
        <h1 id="countdownTitle3"></h1>
        <span id="countdown3"></span>
    </div>
    <div id="category">
        <h1 id="countdownTitle4"></h1>
        <span id="countdown4"></span>
    </div>
    <div id="category">
        <h1 id="countdownTitle5"></h1>
        <span id="countdown5"></span>
    </div>
</div>

    <script>

        function timer(i) {
            let end = getEndDate(i);
            let now = nowInSeconds();
            const seconds = Math.round((end - now)/1000);

            let isCurrentYear = getStartDate(i) < nowInSeconds() && nowInSeconds() < getEndDate(i)

            let days = Math.floor(seconds / 24 / 60 / 60);
            let hoursLeft = Math.floor((seconds) - (days * 86400));
            let hours = Math.floor(hoursLeft / 3600);
            let minutesLeft = Math.floor((hoursLeft) - (hours * 3600));
            let minutes = Math.floor(minutesLeft / 60);
            let remainingSeconds = seconds % 60;

            if (nowInSeconds() < getStartDate(i))
                return;


            document.getElementById('countdownTitle' + i).innerHTML = i + "CHIF19";
            if (seconds < 0)
                document.getElementById('countdown' + i).innerHTML = "Wir haben diese Klasse schon seit <b>" + -days + "</b> Tagen bestandenðŸŽ‰ ";
            else
                document.getElementById('countdown' + i).innerHTML = "<b>" + days + "</b> Tage sind noch vor uns. Das bedeutet wir haben <b>" + (percentage(i)) + "%</b> schon geschafft!";




        }

        function percentage(i) {
            let percentage = "" + ((nowInSeconds() - getStartDate(i)) / (getEndDate(i) - getStartDate(i)) * 100)

            for (let j = 0; j < 18 - percentage.length; i++)
                percentage += "0"

            return percentage
        }
        function getStartDate(i) {
            return Math.round(new Date("September 7, " + (2019 + i - 1) + " 09:00:00").getTime());
        }
        function getEndDate(i) {
            return Math.round(new Date("July 7, " + (2019 + i) + " 09:00:00").getTime());
        }
        function nowInSeconds() {
            return Math.round(new Date().getTime());
        }
        const delay = 50
        let countdownTimers = [
            setInterval('timer(1)', delay),
            setInterval('timer(2)', delay),
            setInterval('timer(3)', delay),
            setInterval('timer(4)', delay),
            setInterval('timer(5)', delay)
        ];
    </script>
</body>

</html>